<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unified Communication Dashboard - Design Mockup</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* Enhanced Dashboard Styles */
    :root {
      --sms-color: #8b5cf6;
      --sms-light: #ede9fe;
      --call-color: #10b981;
      --call-light: #d1fae5;
      --supervisor-color: #f59e0b;
      --supervisor-light: #fef3c7;
    }

    /* Three-Panel Layout */
    .dashboard-grid {
      display: grid;
      grid-template-columns: 280px 1fr 320px;
      gap: 0;
      height: calc(100vh - 73px);
      overflow: hidden;
    }

    /* Left Panel - Activity Queue */
    .left-panel {
      background: white;
      border-right: 1px solid var(--gray-200);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .panel-header {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid var(--gray-200);
      background: var(--gray-50);
    }

    .panel-title {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--gray-600);
    }

    /* Quick Actions Bar */
    .quick-actions {
      display: flex;
      gap: var(--spacing-sm);
      padding: var(--spacing-md);
      border-bottom: 1px solid var(--gray-200);
    }

    .quick-action-btn {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-md);
      border-radius: var(--radius-md);
      border: 1px solid var(--gray-200);
      background: white;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .quick-action-btn:hover {
      background: var(--gray-50);
      border-color: var(--primary);
    }

    .quick-action-btn .icon {
      font-size: 1.25rem;
    }

    .quick-action-btn .label {
      font-size: 0.75rem;
      font-weight: 500;
      color: var(--gray-600);
    }

    .quick-action-btn.call { border-color: var(--call-color); background: var(--call-light); }
    .quick-action-btn.sms { border-color: var(--sms-color); background: var(--sms-light); }

    /* Activity List */
    .activity-list {
      flex: 1;
      overflow-y: auto;
    }

    .activity-section {
      padding: var(--spacing-sm) var(--spacing-md);
    }

    .section-label {
      font-size: 0.625rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--gray-400);
      padding: var(--spacing-sm) 0;
    }

    .activity-item {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: background var(--transition-fast);
      margin-bottom: 2px;
    }

    .activity-item:hover {
      background: var(--gray-100);
    }

    .activity-item.active {
      background: var(--primary-light);
    }

    .activity-item.unread {
      background: var(--warning-light);
    }

    .activity-icon {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      flex-shrink: 0;
    }

    .activity-icon.call { background: var(--call-light); }
    .activity-icon.sms { background: var(--sms-light); }
    .activity-icon.missed { background: var(--danger-light); }

    .activity-content {
      flex: 1;
      min-width: 0;
    }

    .activity-name {
      font-weight: 500;
      font-size: 0.875rem;
      color: var(--gray-900);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .activity-preview {
      font-size: 0.75rem;
      color: var(--gray-500);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .activity-meta {
      text-align: right;
      flex-shrink: 0;
    }

    .activity-time {
      font-size: 0.625rem;
      color: var(--gray-400);
    }

    .activity-badge {
      width: 8px;
      height: 8px;
      background: var(--primary);
      border-radius: var(--radius-full);
      margin-top: var(--spacing-xs);
      margin-left: auto;
    }

    /* Center Panel - Main Content */
    .center-panel {
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: var(--gray-50);
    }

    /* Stats Bar */
    .stats-bar {
      display: flex;
      gap: var(--spacing-md);
      padding: var(--spacing-md) var(--spacing-lg);
      background: white;
      border-bottom: 1px solid var(--gray-200);
    }

    .mini-stat {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .mini-stat-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
    }

    .mini-stat-content {
      display: flex;
      flex-direction: column;
    }

    .mini-stat-value {
      font-size: 1.125rem;
      font-weight: 700;
      color: var(--gray-900);
      line-height: 1;
    }

    .mini-stat-label {
      font-size: 0.625rem;
      color: var(--gray-500);
      text-transform: uppercase;
    }

    /* Conversation View */
    .conversation-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      margin: var(--spacing-md);
      margin-bottom: 0;
    }

    .conversation-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--spacing-md) var(--spacing-lg);
      background: white;
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      border: 1px solid var(--gray-200);
      border-bottom: none;
    }

    .conversation-contact {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
    }

    .contact-avatar {
      width: 48px;
      height: 48px;
      background: var(--primary-light);
      color: var(--primary);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 1.125rem;
    }

    .contact-info h3 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--gray-900);
    }

    .contact-info .number {
      font-size: 0.875rem;
      color: var(--gray-500);
    }

    .conversation-actions {
      display: flex;
      gap: var(--spacing-sm);
    }

    /* Unified Timeline */
    .timeline-container {
      flex: 1;
      overflow-y: auto;
      background: white;
      border-left: 1px solid var(--gray-200);
      border-right: 1px solid var(--gray-200);
      padding: var(--spacing-lg);
    }

    .timeline-item {
      display: flex;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .timeline-marker {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 40px;
      flex-shrink: 0;
    }

    .timeline-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      background: var(--gray-100);
    }

    .timeline-icon.call { background: var(--call-light); }
    .timeline-icon.sms { background: var(--sms-light); }
    .timeline-icon.missed { background: var(--danger-light); }

    .timeline-line {
      width: 2px;
      flex: 1;
      background: var(--gray-200);
      margin-top: var(--spacing-sm);
    }

    .timeline-content {
      flex: 1;
      padding-bottom: var(--spacing-md);
    }

    .timeline-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-sm);
    }

    .timeline-type {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--gray-600);
    }

    .timeline-time {
      font-size: 0.625rem;
      color: var(--gray-400);
    }

    /* Call Entry in Timeline */
    .call-entry {
      background: var(--gray-50);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      border: 1px solid var(--gray-200);
    }

    .call-entry-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-sm);
    }

    .call-duration {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      font-size: 0.875rem;
      font-weight: 500;
    }

    .call-outcome {
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 500;
    }

    .call-outcome.booked { background: var(--success-light); color: #065f46; }
    .call-outcome.callback { background: var(--primary-light); color: #1e40af; }
    .call-outcome.not-interested { background: var(--gray-200); color: var(--gray-600); }

    /* Waveform Player */
    .waveform-player {
      background: var(--gray-100);
      border-radius: var(--radius-md);
      padding: var(--spacing-sm) var(--spacing-md);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-sm);
    }

    .play-btn {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-full);
      background: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .waveform {
      flex: 1;
      height: 32px;
      background: linear-gradient(90deg,
        var(--primary) 0%, var(--primary) 35%,
        var(--gray-300) 35%, var(--gray-300) 100%);
      border-radius: var(--radius-sm);
      position: relative;
    }

    .waveform-bars {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: space-evenly;
    }

    .waveform-bar {
      width: 3px;
      background: rgba(255,255,255,0.4);
      border-radius: 2px;
    }

    .playback-time {
      font-size: 0.75rem;
      color: var(--gray-600);
      font-variant-numeric: tabular-nums;
    }

    .speed-btn {
      font-size: 0.625rem;
      padding: var(--spacing-xs);
      background: var(--gray-200);
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
    }

    .call-transcript-preview {
      font-size: 0.875rem;
      color: var(--gray-600);
      line-height: 1.5;
    }

    .transcript-toggle {
      font-size: 0.75rem;
      color: var(--primary);
      cursor: pointer;
      margin-top: var(--spacing-sm);
    }

    /* SMS Messages in Timeline */
    .sms-thread {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .sms-message {
      max-width: 85%;
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-lg);
      font-size: 0.875rem;
    }

    .sms-message.outbound {
      background: var(--sms-color);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: var(--radius-xs);
    }

    .sms-message.inbound {
      background: var(--gray-100);
      color: var(--gray-900);
      align-self: flex-start;
      border-bottom-left-radius: var(--radius-xs);
    }

    .sms-time {
      font-size: 0.625rem;
      color: var(--gray-400);
      margin-top: var(--spacing-xs);
      text-align: right;
    }

    .sms-message.outbound .sms-time {
      color: rgba(255,255,255,0.7);
    }

    /* Message Composer */
    .message-composer {
      background: white;
      border: 1px solid var(--gray-200);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      padding: var(--spacing-md);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .composer-tabs {
      display: flex;
      gap: var(--spacing-xs);
      padding-bottom: var(--spacing-sm);
      border-bottom: 1px solid var(--gray-200);
    }

    .composer-tab {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-md);
      font-size: 0.75rem;
      font-weight: 500;
      color: var(--gray-500);
      cursor: pointer;
      border: none;
      background: none;
    }

    .composer-tab.active {
      background: var(--gray-100);
      color: var(--gray-900);
    }

    .composer-tab.active.sms {
      background: var(--sms-light);
      color: var(--sms-color);
    }

    .composer-tab.active.call {
      background: var(--call-light);
      color: var(--call-color);
    }

    .composer-input-row {
      display: flex;
      gap: var(--spacing-sm);
    }

    .composer-input {
      flex: 1;
      padding: var(--spacing-sm) var(--spacing-md);
      border: 1px solid var(--gray-300);
      border-radius: var(--radius-md);
      font-size: 0.875rem;
      resize: none;
    }

    .composer-input:focus {
      outline: none;
      border-color: var(--primary);
    }

    .send-btn {
      padding: var(--spacing-sm) var(--spacing-lg);
      border-radius: var(--radius-md);
      border: none;
      font-weight: 500;
      cursor: pointer;
    }

    .send-btn.sms {
      background: var(--sms-color);
      color: white;
    }

    .send-btn.call {
      background: var(--call-color);
      color: white;
    }

    .template-quick-picks {
      display: flex;
      gap: var(--spacing-xs);
      overflow-x: auto;
      padding-bottom: var(--spacing-xs);
    }

    .template-chip {
      white-space: nowrap;
      padding: var(--spacing-xs) var(--spacing-sm);
      background: var(--gray-100);
      border-radius: var(--radius-full);
      font-size: 0.625rem;
      color: var(--gray-600);
      cursor: pointer;
    }

    .template-chip:hover {
      background: var(--gray-200);
    }

    /* Right Panel - Context */
    .right-panel {
      background: white;
      border-left: 1px solid var(--gray-200);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .context-section {
      padding: var(--spacing-lg);
      border-bottom: 1px solid var(--gray-200);
    }

    .context-title {
      font-size: 0.625rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--gray-400);
      margin-bottom: var(--spacing-md);
    }

    /* Lead Details */
    .lead-status-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-md);
    }

    .lead-stage {
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-xs) var(--spacing-sm);
      background: var(--primary-light);
      color: var(--primary);
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 500;
    }

    .detail-row {
      display: flex;
      justify-content: space-between;
      padding: var(--spacing-sm) 0;
      border-bottom: 1px solid var(--gray-100);
      font-size: 0.875rem;
    }

    .detail-label {
      color: var(--gray-500);
    }

    .detail-value {
      color: var(--gray-900);
      font-weight: 500;
    }

    /* AI Insights */
    .ai-insight-card {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .ai-insight-header {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      font-size: 0.625rem;
      font-weight: 600;
      text-transform: uppercase;
      color: #92400e;
      margin-bottom: var(--spacing-sm);
    }

    .ai-insight-text {
      font-size: 0.875rem;
      color: #78350f;
      line-height: 1.5;
    }

    /* Notes Section */
    .notes-input {
      width: 100%;
      padding: var(--spacing-sm);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-md);
      font-size: 0.875rem;
      resize: vertical;
      min-height: 80px;
    }

    /* Supervisor Mode Indicator */
    .supervisor-bar {
      background: linear-gradient(90deg, var(--supervisor-color), #d97706);
      color: white;
      padding: var(--spacing-sm) var(--spacing-lg);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .supervisor-bar .label {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      font-size: 0.875rem;
      font-weight: 600;
    }

    .supervisor-bar .live-badge {
      background: white;
      color: var(--supervisor-color);
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-full);
      font-size: 0.625rem;
      font-weight: 700;
      animation: pulse 2s infinite;
    }

    .supervisor-controls {
      display: flex;
      gap: var(--spacing-sm);
    }

    .supervisor-btn {
      padding: var(--spacing-xs) var(--spacing-md);
      border-radius: var(--radius-md);
      border: 1px solid rgba(255,255,255,0.3);
      background: transparent;
      color: white;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
    }

    .supervisor-btn:hover {
      background: rgba(255,255,255,0.1);
    }

    .supervisor-btn.whisper {
      background: rgba(255,255,255,0.2);
    }

    /* Live Call Indicator */
    .live-call-banner {
      background: var(--call-color);
      color: white;
      padding: var(--spacing-md) var(--spacing-lg);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .live-call-info {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
    }

    .live-indicator {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .pulse-dot {
      width: 10px;
      height: 10px;
      background: white;
      border-radius: var(--radius-full);
      animation: pulse 1.5s infinite;
    }

    .live-timer {
      font-size: 1.25rem;
      font-weight: 600;
      font-variant-numeric: tabular-nums;
    }

    .live-call-controls {
      display: flex;
      gap: var(--spacing-sm);
    }

    .control-btn {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-full);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
    }

    .control-btn.mute {
      background: rgba(255,255,255,0.2);
      color: white;
    }

    .control-btn.mute.active {
      background: var(--danger);
    }

    .control-btn.end {
      background: var(--danger);
      color: white;
      width: 48px;
      height: 48px;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .dashboard-grid {
        grid-template-columns: 260px 1fr;
      }
      .right-panel {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      .left-panel {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <a href="/dashboard" class="logo">
          <div class="logo-icon">AI</div>
          <span>Outreach Hub</span>
        </a>
        <nav class="nav">
          <a href="/dashboard-mockup" class="nav-link active">
            <span>Inbox</span>
            <span class="nav-badge">3</span>
          </a>
          <a href="/dashboard" class="nav-link">
            <span>Dashboard</span>
          </a>
          <a href="/history" class="nav-link">
            <span>History</span>
          </a>
          <a href="/supervisor" class="nav-link">
            <span>Supervisor</span>
          </a>
        </nav>
      </div>
      <div class="header-right">
        <div class="connection-status connected">
          <span class="connection-dot"></span>
          <span>Connected</span>
        </div>
        <div class="user-menu">
          <div class="user-avatar">JD</div>
          <span>John Doe</span>
        </div>
      </div>
    </header>

    <!-- Supervisor Mode Bar (shown when listening to live call) -->
    <div class="supervisor-bar" style="display: none;" id="supervisorBar">
      <div class="label">
        <span>Listening to Sarah's Call</span>
        <span class="live-badge">LIVE</span>
      </div>
      <div class="supervisor-controls">
        <button class="supervisor-btn whisper">Whisper</button>
        <button class="supervisor-btn">Barge</button>
        <button class="supervisor-btn">Stop Listening</button>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="dashboard-grid">
      <!-- Left Panel - Activity Queue -->
      <div class="left-panel">
        <div class="panel-header">
          <div class="panel-title">Activity</div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
          <button class="quick-action-btn call">
            <span class="icon">+</span>
            <span class="label">New Call</span>
          </button>
          <button class="quick-action-btn sms">
            <span class="icon">+</span>
            <span class="label">New SMS</span>
          </button>
        </div>

        <!-- Activity List -->
        <div class="activity-list">
          <!-- Active/Live Section -->
          <div class="activity-section">
            <div class="section-label">Active Now</div>

            <div class="activity-item active">
              <div class="activity-icon call">
                <span style="animation: pulse 1.5s infinite;">...</span>
              </div>
              <div class="activity-content">
                <div class="activity-name">Michael Chen</div>
                <div class="activity-preview">On call - 3:42</div>
              </div>
              <div class="activity-meta">
                <div class="activity-badge" style="background: var(--call-color);"></div>
              </div>
            </div>
          </div>

          <!-- Unread/New Section -->
          <div class="activity-section">
            <div class="section-label">New Messages</div>

            <div class="activity-item unread">
              <div class="activity-icon sms"></div>
              <div class="activity-content">
                <div class="activity-name">Sarah Williams</div>
                <div class="activity-preview">Yes, I'm interested in...</div>
              </div>
              <div class="activity-meta">
                <div class="activity-time">2m</div>
                <div class="activity-badge"></div>
              </div>
            </div>

            <div class="activity-item unread">
              <div class="activity-icon missed"></div>
              <div class="activity-content">
                <div class="activity-name">Unknown</div>
                <div class="activity-preview">Missed call</div>
              </div>
              <div class="activity-meta">
                <div class="activity-time">15m</div>
                <div class="activity-badge" style="background: var(--danger);"></div>
              </div>
            </div>
          </div>

          <!-- Recent Section -->
          <div class="activity-section">
            <div class="section-label">Recent</div>

            <div class="activity-item">
              <div class="activity-icon call"></div>
              <div class="activity-content">
                <div class="activity-name">James Thompson</div>
                <div class="activity-preview">Call - 5:23 - Booked</div>
              </div>
              <div class="activity-meta">
                <div class="activity-time">1h</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon sms"></div>
              <div class="activity-content">
                <div class="activity-name">Lisa Rodriguez</div>
                <div class="activity-preview">Thanks for the info!</div>
              </div>
              <div class="activity-meta">
                <div class="activity-time">2h</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon call"></div>
              <div class="activity-content">
                <div class="activity-name">Robert Kim</div>
                <div class="activity-preview">Call - 2:15 - Callback</div>
              </div>
              <div class="activity-meta">
                <div class="activity-time">3h</div>
              </div>
            </div>
          </div>

          <!-- Scheduled Callbacks -->
          <div class="activity-section">
            <div class="section-label">Callbacks Today</div>

            <div class="activity-item">
              <div class="activity-icon" style="background: var(--primary-light);">2pm</div>
              <div class="activity-content">
                <div class="activity-name">Amanda Foster</div>
                <div class="activity-preview">Follow up on quote</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon" style="background: var(--primary-light);">4pm</div>
              <div class="activity-content">
                <div class="activity-name">David Lee</div>
                <div class="activity-preview">Pricing discussion</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Center Panel - Conversation -->
      <div class="center-panel">
        <!-- Stats Bar -->
        <div class="stats-bar">
          <div class="mini-stat">
            <div class="mini-stat-icon" style="background: var(--call-light);">...</div>
            <div class="mini-stat-content">
              <div class="mini-stat-value">32</div>
              <div class="mini-stat-label">Calls Today</div>
            </div>
          </div>
          <div class="mini-stat">
            <div class="mini-stat-icon" style="background: var(--sms-light);">...</div>
            <div class="mini-stat-content">
              <div class="mini-stat-value">47</div>
              <div class="mini-stat-label">SMS Sent</div>
            </div>
          </div>
          <div class="mini-stat">
            <div class="mini-stat-icon" style="background: var(--success-light);">...</div>
            <div class="mini-stat-content">
              <div class="mini-stat-value">8</div>
              <div class="mini-stat-label">Booked</div>
            </div>
          </div>
          <div class="mini-stat">
            <div class="mini-stat-icon" style="background: var(--danger-light);">...</div>
            <div class="mini-stat-content">
              <div class="mini-stat-value">3</div>
              <div class="mini-stat-label">Missed</div>
            </div>
          </div>
        </div>

        <!-- Live Call Banner (shown during active call) -->
        <div class="live-call-banner" id="liveCallBanner" style="display: none;">
          <div class="live-call-info">
            <div class="live-indicator">
              <div class="pulse-dot"></div>
              <span>LIVE</span>
            </div>
            <div class="live-timer">3:42</div>
            <span>with Michael Chen</span>
          </div>
          <div class="live-call-controls">
            <button class="control-btn mute" title="Mute">...</button>
            <button class="control-btn mute" title="Hold">...</button>
            <button class="control-btn end" title="End Call">...</button>
          </div>
        </div>

        <!-- Conversation Area -->
        <div class="conversation-area">
          <div class="conversation-header">
            <div class="conversation-contact">
              <div class="contact-avatar">SW</div>
              <div class="contact-info">
                <h3>Sarah Williams</h3>
                <span class="number">+1 (555) 234-5678</span>
              </div>
            </div>
            <div class="conversation-actions">
              <button class="btn btn-success btn-sm">Call</button>
              <button class="btn btn-secondary btn-sm">SMS</button>
              <button class="btn btn-secondary btn-sm">...</button>
            </div>
          </div>

          <!-- Unified Timeline -->
          <div class="timeline-container">
            <!-- Call Entry -->
            <div class="timeline-item">
              <div class="timeline-marker">
                <div class="timeline-icon call">...</div>
                <div class="timeline-line"></div>
              </div>
              <div class="timeline-content">
                <div class="timeline-header">
                  <span class="timeline-type">Outbound Call</span>
                  <span class="timeline-time">Today, 10:23 AM</span>
                </div>
                <div class="call-entry">
                  <div class="call-entry-header">
                    <div class="call-duration">
                      <span>...</span>
                      <span>5:23</span>
                    </div>
                    <span class="call-outcome booked">Booked Meeting</span>
                  </div>

                  <!-- Waveform Player -->
                  <div class="waveform-player">
                    <button class="play-btn">...</button>
                    <div class="waveform">
                      <div class="waveform-bars">
                        <div class="waveform-bar" style="height: 12px;"></div>
                        <div class="waveform-bar" style="height: 20px;"></div>
                        <div class="waveform-bar" style="height: 8px;"></div>
                        <div class="waveform-bar" style="height: 24px;"></div>
                        <div class="waveform-bar" style="height: 16px;"></div>
                        <div class="waveform-bar" style="height: 28px;"></div>
                        <div class="waveform-bar" style="height: 12px;"></div>
                        <div class="waveform-bar" style="height: 20px;"></div>
                        <div class="waveform-bar" style="height: 8px;"></div>
                        <div class="waveform-bar" style="height: 16px;"></div>
                        <div class="waveform-bar" style="height: 24px;"></div>
                        <div class="waveform-bar" style="height: 12px;"></div>
                      </div>
                    </div>
                    <span class="playback-time">1:52 / 5:23</span>
                    <button class="speed-btn">1x</button>
                  </div>

                  <div class="call-transcript-preview">
                    "...that sounds great, I'd love to schedule a demo. How does Thursday afternoon work for you?"
                  </div>
                  <div class="transcript-toggle">View full transcript</div>
                </div>
              </div>
            </div>

            <!-- SMS Thread -->
            <div class="timeline-item">
              <div class="timeline-marker">
                <div class="timeline-icon sms">...</div>
                <div class="timeline-line"></div>
              </div>
              <div class="timeline-content">
                <div class="timeline-header">
                  <span class="timeline-type">SMS Conversation</span>
                  <span class="timeline-time">Today, 9:45 AM</span>
                </div>
                <div class="sms-thread">
                  <div class="sms-message outbound">
                    Hi Sarah! Following up on our email - do you have 15 mins today to discuss how we can help grow your online presence?
                    <div class="sms-time">9:45 AM - Delivered</div>
                  </div>
                  <div class="sms-message inbound">
                    Hi! Yes, I'm interested in learning more. Can you call me around 10?
                    <div class="sms-time">10:02 AM</div>
                  </div>
                  <div class="sms-message outbound">
                    Perfect! I'll call you in about 20 minutes.
                    <div class="sms-time">10:05 AM - Delivered</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earlier Call -->
            <div class="timeline-item">
              <div class="timeline-marker">
                <div class="timeline-icon missed">...</div>
                <div class="timeline-line"></div>
              </div>
              <div class="timeline-content">
                <div class="timeline-header">
                  <span class="timeline-type">Missed Call (Inbound)</span>
                  <span class="timeline-time">Yesterday, 4:30 PM</span>
                </div>
                <div class="call-entry" style="background: var(--danger-light); border-color: #fca5a5;">
                  <div class="call-duration" style="color: var(--danger);">
                    <span>Missed - No voicemail</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Email Reference -->
            <div class="timeline-item">
              <div class="timeline-marker">
                <div class="timeline-icon" style="background: #fee2e2;">@</div>
              </div>
              <div class="timeline-content">
                <div class="timeline-header">
                  <span class="timeline-type">Email Opened</span>
                  <span class="timeline-time">Yesterday, 2:15 PM</span>
                </div>
                <div style="font-size: 0.875rem; color: var(--gray-600);">
                  Opened "Website Builder Solutions for Your Business"
                </div>
              </div>
            </div>
          </div>

          <!-- Message Composer -->
          <div class="message-composer">
            <div class="composer-tabs">
              <button class="composer-tab active sms">
                <span>...</span> SMS
              </button>
              <button class="composer-tab call">
                <span>...</span> Call
              </button>
              <button class="composer-tab">
                <span>@</span> Email
              </button>
            </div>
            <div class="template-quick-picks">
              <span class="template-chip">Following up...</span>
              <span class="template-chip">Meeting confirmation</span>
              <span class="template-chip">Thank you!</span>
              <span class="template-chip">Pricing info</span>
              <span class="template-chip">+ Templates</span>
            </div>
            <div class="composer-input-row">
              <textarea class="composer-input" rows="2" placeholder="Type your message..."></textarea>
              <button class="send-btn sms">Send SMS</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Panel - Context -->
      <div class="right-panel">
        <!-- Lead Details -->
        <div class="context-section">
          <div class="context-title">Lead Details</div>
          <div class="lead-status-row">
            <span class="lead-stage">Qualified Lead</span>
            <button class="btn btn-sm btn-secondary">Edit</button>
          </div>
          <div class="detail-row">
            <span class="detail-label">Company</span>
            <span class="detail-value">Williams Design Co</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Email</span>
            <span class="detail-value">sarah@williams.co</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Source</span>
            <span class="detail-value">Facebook Ad</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Created</span>
            <span class="detail-value">Jan 15, 2026</span>
          </div>
        </div>

        <!-- AI Insights -->
        <div class="context-section">
          <div class="context-title">AI Insights</div>
          <div class="ai-insight-card">
            <div class="ai-insight-header">
              <span>...</span> Suggestion
            </div>
            <div class="ai-insight-text">
              Sarah mentioned budget concerns in the last call. Consider leading with ROI data and payment plan options.
            </div>
          </div>
          <div style="font-size: 0.75rem; color: var(--gray-500);">
            <strong>Talk ratio:</strong> 45% you / 55% customer (Good)<br>
            <strong>Sentiment:</strong> Positive<br>
            <strong>Keywords:</strong> pricing, demo, timeline
          </div>
        </div>

        <!-- Activity Stats -->
        <div class="context-section">
          <div class="context-title">Engagement</div>
          <div class="detail-row">
            <span class="detail-label">Total Calls</span>
            <span class="detail-value">3</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Total SMS</span>
            <span class="detail-value">7</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Emails Opened</span>
            <span class="detail-value">4 / 5</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Last Contact</span>
            <span class="detail-value">Today</span>
          </div>
        </div>

        <!-- Notes -->
        <div class="context-section" style="flex: 1; display: flex; flex-direction: column;">
          <div class="context-title">Notes</div>
          <textarea class="notes-input" placeholder="Add notes about this contact...">Interested in website redesign. Current site is 5 years old. Budget ~$3-5k. Decision maker. Demo scheduled for Thursday 2pm.</textarea>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Demo: Toggle live call banner
    document.querySelector('.activity-item.active')?.addEventListener('click', function() {
      const banner = document.getElementById('liveCallBanner');
      banner.style.display = banner.style.display === 'none' ? 'flex' : 'none';
    });

    // Demo: Toggle supervisor bar
    document.querySelector('.nav-link[href="/supervisor"]')?.addEventListener('click', function(e) {
      e.preventDefault();
      const bar = document.getElementById('supervisorBar');
      bar.style.display = bar.style.display === 'none' ? 'flex' : 'none';
    });

    // Demo: Switch composer tabs
    document.querySelectorAll('.composer-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.composer-tab').forEach(t => t.classList.remove('active', 'sms', 'call'));
        this.classList.add('active');

        const sendBtn = document.querySelector('.send-btn');
        if (this.textContent.includes('SMS')) {
          this.classList.add('sms');
          sendBtn.textContent = 'Send SMS';
          sendBtn.className = 'send-btn sms';
        } else if (this.textContent.includes('Call')) {
          this.classList.add('call');
          sendBtn.textContent = 'Start Call';
          sendBtn.className = 'send-btn call';
        }
      });
    });
  </script>
</body>
</html>
